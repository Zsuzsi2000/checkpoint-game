<form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
  <ion-list class="ion-padding">
    <ion-item>
      <ion-label position="floating">Email *</ion-label>
      <ion-input
        type="email"
        email
        labelPlacement="floating"
        placeholder="Type your email here"
        formControlName="email"
      ></ion-input>
    </ion-item>
    <ion-item
      *ngIf="(!profileForm.get('email').valid && profileForm.get('email').touched)"
      lines="none"
    >
      <ion-label color="danger">
        Should be a valid email address.
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label position="floating">Username *</ion-label>
      <ion-input
        type="text"
        labelPlacement="floating"
        placeholder="Enter a username"
        formControlName="username"
      ></ion-input>
    </ion-item>
    <ion-item
      *ngIf="(!profileForm.get('username').valid && profileForm.get('username').touched)"
      lines="none"
    >
      <ion-label color="danger">
        Username is required.
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label position="floating">Password *</ion-label>
      <ion-input
        type="password"
        labelPlacement="floating"
        placeholder="Enter a password"
        formControlName="password"
      ></ion-input>
    </ion-item>
    <ion-item
      *ngIf="(!profileForm.get('password').valid && profileForm.get('password').touched)"
      lines="none"
    >
      <ion-label color="danger">
        Should at least be 6 characters long.
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label position="floating">Password again *</ion-label>
      <ion-input
        type="password"
        labelPlacement="floating"
        placeholder="Enter the password again"
        formControlName="passwordAgain"
      ></ion-input>
    </ion-item>
    <ion-item
      *ngIf="profileForm.hasError('passwordMismatch') && (profileForm.get('passwordAgain').dirty || profileForm.get('passwordAgain').touched)"
      lines="none"
    >
      <ion-label color="danger">
        Passwords do not match.
      </ion-label>
    </ion-item>
    <ion-item [button]="true" [detail]="false" (click)="selectCountry()">
      <ion-label>Country</ion-label>
      <div slot="end">{{ selectedCountry }}</div>
      <ion-icon name="caret-down" slot="end"></ion-icon>
    </ion-item>
  </ion-list>
  <ion-button
    class="ion-no-margin"
    type="submit"
    color="primary"
    expand="full"
    [disabled]="!profileForm.valid">
    Sign up
  </ion-button>
</form>
